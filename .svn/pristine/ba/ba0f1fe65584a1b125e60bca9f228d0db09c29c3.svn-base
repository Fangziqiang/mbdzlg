package com.core.taglib.page;

import java.io.IOException;

import javax.servlet.jsp.JspException;
import javax.servlet.jsp.tagext.TagSupport;

/**
 * 显示导航条,可利用此改变每页的记录数,上下翻页和跳页
 * 使用方法:<page:navigator type='BUTTON'/>
 * @author Starboy
 * @version 2.0
 */
public class NavigatorTag extends TagSupport {
    /**导航条的类型(BUTTON/TEXT)(按钮型/文字链接型)*/
    private String type = "BUTTON"; //选择导航条类型默认"BUTTON"(BUTTON/TEXT)

    public void setType(String newType) {
        type = newType;
    }

    public int doStartTag() throws JspException {
        try {
            String bar = getNavigatorBar(type);
            pageContext.getOut().write(bar);
            return SKIP_BODY;
        }
        catch (IOException ioe) {
            throw new JspException(ioe.getMessage());
        }
    }

    public int doEndTag() throws JspException {
        return EVAL_PAGE;
    }

    /**
     * 根据指定类型获得导航条预先设计的导航条
     * @param type 导航条类型(BUTTON/TEXT)
     * @return 返回导航条的HTML代码,若指定类型不存在,返回""
     */
    private String getNavigatorBar(String type) {
        String bar = "";
        String pageNo   = ((Integer) pageContext.getAttribute("pageNo")).toString();
        String pages    = ((Integer) pageContext.getAttribute("pages")).toString();
        String total    = ((Integer) pageContext.getAttribute("total")).toString();
        String pageSize = ((Integer) pageContext.getAttribute("pageSize")).toString();
        String nextDisabled = "";
        String prevDisabled = "";
        if (Integer.parseInt(pageNo) >= Integer.parseInt(pages))
            nextDisabled = "disabled";
        if (Integer.parseInt(pageNo) <= 1)
            prevDisabled = "disabled";

        //---------------------按钮型的导航条-----------------------//
        if (type.equalsIgnoreCase("BUTTON")) {
            String pageSizeInput = "<input type='text' size='2' value='" + pageSize + "' "
                                   + "onChange=\"javascript:this.form.choice.value='current';"
                                   + "this.form.pageSize.value=this.value;this.form.submit();\">";
            String firstButton = "<input type='button' value='首  页' " + prevDisabled + " "
                                 +
                    "onClick=\"javascript:this.form.choice.value='first';this.form.submit();\">";
            String prevButton = "<input type='button' value='上一页' " + prevDisabled + " "
                                +
                    "onClick=\"javascript:this.form.choice.value='prev';this.form.submit();\">";
            String nextButton = "<input type='button' value='下一页' " + nextDisabled + " "
                                +
                    "onClick=\"javascript:this.form.choice.value='next';this.form.submit();\">";
            String lastButton = "<input type='button' value='最后一页' " + nextDisabled + " "
                                +
                    "onClick=\"javascript:this.form.choice.value='last';this.form.submit();\">";
            String pageNoInput = "<input type='text' size='3' value='" + pageNo + "' "
                                 + "onChange=\"javascript:this.form.pageNo.value=this.value\">";

            bar = "每页pageSize条记录 | \n"
                  + "共pages页/total条记录 | \n"
                  + "first \n prev \n next \n last \n | 第pageNo页\n"
                  +
                    " <input type='submit' value='go' onClick=\"javascript:this.form.choice.value='current';\">\n";

            bar = bar.replaceAll("pageSize", pageSizeInput);
            bar = bar.replaceAll("pages", pages);
            bar = bar.replaceAll("total", total);
            bar = bar.replaceAll("first", firstButton);
            bar = bar.replaceAll("prev", prevButton);
            bar = bar.replaceAll("next", nextButton);
            bar = bar.replaceAll("last", lastButton);
            bar = bar.replaceAll("pageNo", pageNoInput);
        } /////end of if(button)

        //-------------------------文字型----------------------------//
        if (type.equalsIgnoreCase("TEXT")) {
            
          
            String prevText = " <li class=\"item prev prev-disable \">"
            					+" <a class=\"J_Ajax num icon-tag\" href=\"javascript:void(0)\">"
            					+" <span class=\"icon icon-btn-prev-2-disable\"></span>"
            					+" <span>上一页</span></a></li>";
	             
            String nextText = " <li class=\"item next next-disable \">"
								+"<a class=\"J_Ajax num icon-tag\" href=\"javascript:void(0)\">"
								+" <span>下一页</span>"
								+" <span class=\"icon icon-btn-next-2-disable \"></span></a></li>";
   
            if (prevDisabled.equalsIgnoreCase("")) {
                
            	 prevText = " <li class=\"item prev \">"
			 					+" <a class=\"J_Ajax num icon-tag\" href=\"javascript:void(0)\" onClick=\"javascript:document.pager.choice.value='prev';document.pager.submit();return false;\" >"
			 					+" <span class=\"icon icon-btn-prev-2 \"></span>"
			 					+" <span>上一页</span></a></li>";
      
               
            }
            String pageNumberText = "";
            String dot = "<li class=\"item dot\">...</li>";  
            int pno = Integer.valueOf(pageNo);
            int totalPage = Integer.valueOf(pages);
            //小于等于5页的处理
            //分页处理  
            if(Integer.parseInt(pages) <= 5){  
                for(int i=1;i<=Integer.parseInt(pages);i++){  
                    if(Integer.parseInt(pageNo) == i){  
                    	pageNumberText +=  this.getPageNoTextDisable(i);  
                    	
                    }else{  
                    	  
                    	pageNumberText += this.getPageNoTextAble(i);  
                    }  
                }  
            }else{  
                if(pno <= 3){  
                    for(int i=1;i<=5;i++){  
                        if(pno == i){  
                        	pageNumberText += this.getPageNoTextDisable(i);  
                        }else{  
                        	pageNumberText += this.getPageNoTextAble(i);  
                        }  
                    }  
                    pageNumberText += dot;  
                }else{  
                	pageNumberText += this.getPageNoTextAble(1);  
                	
                	pageNumberText += dot;  
                      
                    int begin = pno - 2;  
                    int end = pno + 2;  
                    if(end > totalPage){  
                        end = totalPage;  
                        begin = end - 4;  
                        if(pno - begin < 2){  
                            begin = begin-1;  
                        }  
                    }else if(end + 1 == totalPage){  
                        end = totalPage;  
                    }  
                    for(int i=begin;i<=end;i++){  
                        if(pno == i){  
                        	pageNumberText += getPageNoTextDisable(i);  
                        }else{  
                        	pageNumberText += getPageNoTextAble(i);  
                        }  
                    }  
                    if(end != totalPage){  
                    	pageNumberText += dot;  
                    }  
                }  
            }  
            
            
            
            
            if (nextDisabled.equalsIgnoreCase("")) {
            	nextText = " <li class=\"item next \">"
    				+"<a class=\"J_Ajax num icon-tag\" href=\"javascript:void(0)\" onClick=\"javascript:document.pager.choice.value='next';document.pager.submit();return false;\">"
    				+" <span>下一页</span>"
    				+" <span class=\"icon icon-btn-next-2\"></span></a></li>";
                
            }
            
            String pageNoInput = " <input class=\"input J_Input \" type=\"number\"  maxlength=\"4\" name=\"tmp2\" value=\""+pageNo+"\" aria-label=\"页码输入框\" "
                 +" /><span class=\"btn J_Submit\" role=\"button\" tabindex=\"0\" onClick=\"javascript:document.pager.choice.value='current';document.pager.pageNo.value=document.pager.tmp2.value;document.pager.submit();return false;\">GO</span>";
            	 
           
            bar = " <div class=\"inner clearfix\"><ul class=\"items\">"
                + " prev  pageNumberText next pageNoInput 共&nbsp;<i class=\"blue\">pages</i>&nbsp;页&nbsp;/&nbsp;<i class=\"blue\">total</i>&nbsp;条记录</ul>  ";

            bar = bar.replaceAll("pages", pages);
            bar = bar.replaceAll("total", total);
       
            bar = bar.replaceAll("prev", prevText);
            bar = bar.replaceAll("next", nextText);
        
            bar = bar.replaceAll("pageNoInput", pageNoInput);
            bar = bar.replaceAll("pageNumberText", pageNumberText);
          
        } /////end of if(text)
        
        
        //-------------------------文字型----------------------------//
        if (type.equalsIgnoreCase("TEXT_SHORT")) {
            
          
            String prevText = " <li class=\"item prev prev-disable \">"
            					+" <a class=\"J_Ajax num icon-tag\" href=\"javascript:void(0)\">"
            					+" <span class=\"icon icon-btn-prev-2-disable\"></span>"
            					+" <span>上一页</span></a></li>";
	             
            String nextText = " <li class=\"item next next-disable \">"
								+"<a class=\"J_Ajax num icon-tag\" href=\"javascript:void(0)\">"
								+" <span>下一页</span>"
								+" <span class=\"icon icon-btn-next-2-disable \"></span></a></li>";
   
            if (prevDisabled.equalsIgnoreCase("")) {
                
            	 prevText = " <li class=\"item prev \">"
			 					+" <a class=\"J_Ajax num icon-tag\" href=\"javascript:void(0)\" onClick=\"javascript:document.pager.choice.value='prev';document.pager.submit();return false;\" >"
			 					+" <span class=\"icon icon-btn-prev-2 \"></span>"
			 					+" <span>上一页</span></a></li>";
      
               
            }
            String pageNumberText = "";
            String dot = "<li class=\"item dot\">...</li>";  
            int pno = Integer.valueOf(pageNo);
            int totalPage = Integer.valueOf(pages);
            //小于等于2页的处理
            //分页处理  
            if(Integer.parseInt(pages) <= 2){  
                for(int i=1;i<=Integer.parseInt(pages);i++){  
                    if(Integer.parseInt(pageNo) == i){  
                    	pageNumberText +=  this.getPageNoTextDisable(i);  
                    	
                    }else{  
                    	  
                    	pageNumberText += this.getPageNoTextAble(i);  
                    }  
                }  
            }else{  
                if(pno <= 2){  
                    for(int i=1;i<=3;i++){  
                        if(pno == i){  
                        	pageNumberText += this.getPageNoTextDisable(i);  
                        }else{  
                        	pageNumberText += this.getPageNoTextAble(i);  
                        }  
                    }  
                    pageNumberText += dot;  
                }else{  
                	pageNumberText += this.getPageNoTextAble(1);  
                	
                	pageNumberText += dot;  
                      
                    int begin = pno - 1;  
                    int end = pno + 1;  
                    if(end > totalPage){  
                        end = totalPage;  
                        begin = end - 2;  
                        if(pno - begin < 2){  
                            begin = begin-1;  
                        }  
                    }else if(end + 1 == totalPage){  
                        end = totalPage;  
                    }  
                    for(int i=begin;i<=end;i++){  
                        if(pno == i){  
                        	pageNumberText += getPageNoTextDisable(i);  
                        }else{  
                        	pageNumberText += getPageNoTextAble(i);  
                        }  
                    }  
                    if(end != totalPage){  
                    	pageNumberText += dot;  
                    }  
                }  
            }  
            
            
            
            
            if (nextDisabled.equalsIgnoreCase("")) {
            	nextText = " <li class=\"item next \">"
    				+"<a class=\"J_Ajax num icon-tag\" href=\"javascript:void(0)\" onClick=\"javascript:document.pager.choice.value='next';document.pager.submit();return false;\">"
    				+" <span>下一页</span>"
    				+" <span class=\"icon icon-btn-next-2\"></span></a></li>";
                
            }
            
            String pageNoInput = " <div class=\"form\"><span class=\"text\">到第</span>" 
            	 +" <input class=\"input J_Input \" type=\"number\"  maxlength=\"4\" name=\"tmp2\" value=\""+pageNo+"\" aria-label=\"页码输入框\" "
                 +" />"
            	 +" <span class=\"text\">页</span>"
            	 +" <input class=\"btn J_Submit\" type=\"button\" value=\"确定\" style=\"background-color:white;line-height:20px;height:25px\" role=\"button\"  onClick=\"javascript:document.pager.choice.value='current';document.pager.pageNo.value=document.pager.tmp2.value;document.pager.submit();return false;\"/> </div>";
           
            bar = " <div class=\"pagingL\"> 共&nbsp;<i class=\"blue\">pages</i>&nbsp;页&nbsp;/&nbsp;<i class=\"blue\">total</i>&nbsp;条记录 </div> "
                + " <div class=\"inner clearfix\"><ul class=\"items\">"
                + " prev  pageNumberText next </ul>  pageNoInput"
                + "    </div>";

            bar = bar.replaceAll("pages", pages);
            bar = bar.replaceAll("total", total);
       
            bar = bar.replaceAll("prev", prevText);
            bar = bar.replaceAll("next", nextText);
        
            bar = bar.replaceAll("pageNoInput", pageNoInput);
            bar = bar.replaceAll("pageNumberText", pageNumberText);
          
        } /////end of if(text)
        // 只显示中间部分
        if (type.equalsIgnoreCase("TEXT1")) {
            
            
            String prevText = " <li class=\"item prev prev-disable \">"
            					+" <a class=\"J_Ajax num icon-tag\" href=\"javascript:void(0)\">"
            					+" <span class=\"icon icon-btn-prev-2-disable\"></span>"
            					+" <span>上一页</span></a></li>";
	             
            String nextText = " <li class=\"item next next-disable \">"
								+"<a class=\"J_Ajax num icon-tag\" href=\"javascript:void(0)\">"
								+" <span>下一页</span>"
								+" <span class=\"icon icon-btn-next-2-disable \"></span></a></li>";
   
            if (prevDisabled.equalsIgnoreCase("")) {
                
            	 prevText = " <li class=\"item prev \">"
			 					+" <a class=\"J_Ajax num icon-tag\" href=\"javascript:void(0)\" onClick=\"javascript:document.pager.choice.value='prev';document.pager.submit();return false;\" >"
			 					+" <span class=\"icon icon-btn-prev-2 \"></span>"
			 					+" <span>上一页</span></a></li>";
      
               
            }
            String pageNumberText = "";
            String dot = "<li class=\"item dot\">...</li>";  
            int pno = Integer.valueOf(pageNo);
            int totalPage = Integer.valueOf(pages);
            //小于等于5页的处理
            //分页处理  
            if(Integer.parseInt(pages) <= 5){  
                for(int i=1;i<=Integer.parseInt(pages);i++){  
                    if(Integer.parseInt(pageNo) == i){  
                    	pageNumberText +=  this.getPageNoTextDisable(i);  
                    	
                    }else{  
                    	  
                    	pageNumberText += this.getPageNoTextAble(i);  
                    }  
                }  
            }else{  
                if(pno <= 3){  
                    for(int i=1;i<=5;i++){  
                        if(pno == i){  
                        	pageNumberText += this.getPageNoTextDisable(i);  
                        }else{  
                        	pageNumberText += this.getPageNoTextAble(i);  
                        }  
                    }  
                    pageNumberText += dot;  
                }else{  
                	pageNumberText += this.getPageNoTextAble(1);  
                	
                	pageNumberText += dot;  
                      
                    int begin = pno - 2;  
                    int end = pno + 2;  
                    if(end > totalPage){  
                        end = totalPage;  
                        begin = end - 4;  
                        if(pno - begin < 2){  
                            begin = begin-1;  
                        }  
                    }else if(end + 1 == totalPage){  
                        end = totalPage;  
                    }  
                    for(int i=begin;i<=end;i++){  
                        if(pno == i){  
                        	pageNumberText += getPageNoTextDisable(i);  
                        }else{  
                        	pageNumberText += getPageNoTextAble(i);  
                        }  
                    }  
                    if(end != totalPage){  
                    	pageNumberText += dot;  
                    }  
                }  
            }  
            
            
            
            
            if (nextDisabled.equalsIgnoreCase("")) {
            	nextText = " <li class=\"item next \">"
    				+"<a class=\"J_Ajax num icon-tag\" href=\"javascript:void(0)\" onClick=\"javascript:document.pager.choice.value='next';document.pager.submit();return false;\">"
    				+" <span>下一页</span>"
    				+" <span class=\"icon icon-btn-next-2\"></span></a></li>";
                
            }
            
                       
            bar = " <div class=\"inner clearfix\"><ul class=\"items\">"
                + " prev  pageNumberText next </ul>";

            bar = bar.replaceAll("pages", pages);
            bar = bar.replaceAll("total", total);
       
            bar = bar.replaceAll("prev", prevText);
            bar = bar.replaceAll("next", nextText);
        
            bar = bar.replaceAll("pageNumberText", pageNumberText);
          
        }
        
      //-------------------------文字型----------------------------//
        if (type.equalsIgnoreCase("TEXT_OLD")) {
        	String pageSizeInput = "<input type='text' size='2' maxlength='3' name='tmp1' value='" + pageSize + "' "
            + "onChange=\"document.pager.choice.value='current';"
            + "this.form.pageSize.value=this.value;this.form.submit();\">";
			String firstText = "首  页";
			String prevText = "上一页";
			String nextText = "下一页";
			String lastText = "最后一页";
			if (prevDisabled.equalsIgnoreCase("")) {
			firstText = "<a href='first' "
			     +
			 "onClick=\"javascript:document.pager.choice.value='first';document.pager.submit();return false;\">"
			     + "首  页"
			     + "</a>";
			prevText = "<a href='prev' "
			    +
			 "onClick=\"javascript:document.pager.choice.value='prev';document.pager.submit();return false;\">"
			    + "上一页"
			    + "</a>";
			}
			if (nextDisabled.equalsIgnoreCase("")) {
			nextText = "<a href='next' "
			    +
			 "onClick=\"javascript:document.pager.choice.value='next';document.pager.submit();return false;\">"
			    + "下一页"
			    + "</a>";
			lastText = "<a href='last' "
			    +
			 "onClick=\"javascript:document.pager.choice.value='last';document.pager.submit();return false;\">"
			    + "最后一页"
			    + "</a>";
			}
			String pageNoInput = "<input type='text' size='3' maxlength='4'  name='tmp2' value='" + pageNo + "' "
			          + "onChange=\"javascript:this.form.pageNo.value=this.value\">";
			
			bar = "每页pageSize条记录 | \n"
			+ "共pages页/total条记录 | \n"
			+ "first \n prev \n next \n last \n | 第pageNo页\n"
			+
			" <input type='submit' class='Button_Go' value='go' onClick=\"javascript:this.form.tmp1.fireEvent('onchange');this.form.tmp2.fireEvent('onchange');this.form.choice.value='current';\">\n";
			
			bar = bar.replaceAll("pageSize", pageSizeInput);
			bar = bar.replaceAll("pages", pages);
			bar = bar.replaceAll("total", total);
			bar = bar.replaceAll("first", firstText);
			bar = bar.replaceAll("prev", prevText);
			bar = bar.replaceAll("next", nextText);
			bar = bar.replaceAll("last", lastText);
			bar = bar.replaceAll("pageNo", pageNoInput);
			} /////end of if(text)
			
			//---------------------按钮型的导航条-----------------------//
			if (type.equalsIgnoreCase("SIMPLEBUTTON")) {
			String pageSizeInput = "<input class='navbar' type='text' size='1' value='" + pageSize +
			            "' "
			            + "onChange=\"javascript:this.form.choice.value='current';"
			            + "this.form.pageSize.value=this.value;this.form.submit();\">";
			String prevButton = "<input class='navbar' type='button' value='上一页' " + prevDisabled +
			         " "
			         +
			"onClick=\"javascript:this.form.choice.value='prev';this.form.submit();\">";
			String nextButton = "<input class='navbar' type='button' value='下一页' " + nextDisabled +
			         " "
			         +
			"onClick=\"javascript:this.form.choice.value='next';this.form.submit();\">";
			String pageNoInput = "<input class='navbar' type='text' size='1' value='" + pageNo +
			          "' "
			          + "onChange=\"javascript:this.form.pageNo.value=this.value\">";
			
			bar = "每页pageSize条记录 | \n"
			+ "共pages页/total条记录 | \n"
			+ "\n prev \n next \n | 第pageNo页\n"
			+ " <input class='navbar' type='submit' value='go' onClick=\"javascript:this.form.choice.value='current';\">\n";
			
			bar = bar.replaceAll("pageSize", pageSizeInput);
			bar = bar.replaceAll("pages", pages);
			bar = bar.replaceAll("total", total);
			bar = bar.replaceAll("prev", prevButton);
			bar = bar.replaceAll("next", nextButton);
			bar = bar.replaceAll("pageNo", pageNoInput);
        } /////end of if(text)


        //---------------------按钮型的导航条-----------------------//
        if (type.equalsIgnoreCase("SIMPLEBUTTON")) {
            String pageSizeInput = "<input class='navbar' type='text' size='1' value='" + pageSize +
                                   "' "
                                   + "onChange=\"javascript:this.form.choice.value='current';"
                                   + "this.form.pageSize.value=this.value;this.form.submit();\">";
            String prevButton = "<input class='navbar' type='button' value='上一页' " + prevDisabled +
                                " "
                                +
                    "onClick=\"javascript:this.form.choice.value='prev';this.form.submit();\">";
            String nextButton = "<input class='navbar' type='button' value='下一页' " + nextDisabled +
                                " "
                                +
                    "onClick=\"javascript:this.form.choice.value='next';this.form.submit();\">";
            String pageNoInput = "<input class='navbar' type='text' size='1' value='" + pageNo +
                                 "' "
                                 + "onChange=\"javascript:this.form.pageNo.value=this.value\">";

            bar = "每页pageSize条记录 | \n"
                  + "共pages页/total条记录 | \n"
                  + "\n prev \n next \n | 第pageNo页\n"
                  + " <input class='navbar' type='submit' value='go' onClick=\"javascript:this.form.choice.value='current';\">\n";

            bar = bar.replaceAll("pageSize", pageSizeInput);
            bar = bar.replaceAll("pages", pages);
            bar = bar.replaceAll("total", total);
            bar = bar.replaceAll("prev", prevButton);
            bar = bar.replaceAll("next", nextButton);
            bar = bar.replaceAll("pageNo", pageNoInput);
        } /////end of if(button)
        
        //---------------------按钮型的导航条(只有上、下页)-----------------------//
        if (type.equalsIgnoreCase("SIMPLEBUTTON2")) {
            String pageSizeInput = "<input class='navbar' type='text' size='1' value='" + pageSize +
                                   "' "
                                   + "onChange=\"javascript:this.form.choice.value='current';"
                                   + "this.form.pageSize.value=this.value;this.form.submit();\">";
            String prevButton = "<input class='navbar' type='button' value='上一页' " + prevDisabled +
                                " "
                                +
                    "onClick=\"javascript:this.form.choice.value='prev';this.form.submit();\">";
            String nextButton = "<input class='navbar' type='button' value='下一页' " + nextDisabled +
                                " "
                                +
                    "onClick=\"javascript:this.form.choice.value='next';this.form.submit();\">";
            String pageNoInput = "<input class='navbar' type='text' size='1' value='" + pageNo +
                                 "' "
                                 + "onChange=\"javascript:this.form.pageNo.value=this.value\">";

            bar = "\n prev \n next \n";

            bar = bar.replaceAll("pageSize", pageSizeInput);
            bar = bar.replaceAll("pages", pages);
            bar = bar.replaceAll("total", total);
            bar = bar.replaceAll("prev", prevButton);
            bar = bar.replaceAll("next", nextButton);
            bar = bar.replaceAll("pageNo", pageNoInput);
        }

        //-------------------------文字型----------------------------//
        if (type.equalsIgnoreCase("SIMPLETEXT")) {
            String pageSizeInput = "<input type='text' size='1' value='" + pageSize + "' "
                                   + "onChange=\"javascript:document.pager.choice.value='current';"
                                   + "this.form.pageSize.value=this.value;this.form.submit();\">";
            String firstText = "首  页";
            String prevText = "上一页";
            String nextText = "下一页";
            String lastText = "最后一页";
            if (prevDisabled.equalsIgnoreCase("")) {
                firstText = "<a href='first' "
                            +
                        "onClick=\"javascript:document.pager.choice.value='first';document.pager.submit();return false;\">"
                            + "首  页"
                            + "</a>";
                prevText = "<a href='prev' "
                           +
                        "onClick=\"javascript:document.pager.choice.value='prev';document.pager.submit();return false;\">"
                           + "上一页"
                           + "</a>";
            }
            if (nextDisabled.equalsIgnoreCase("")) {
                nextText = "<a href='next' "
                           +
                        "onClick=\"javascript:document.pager.choice.value='next';document.pager.submit();return false;\">"
                           + "下一页"
                           + "</a>";
                lastText = "<a href='last' "
                           +
                        "onClick=\"javascript:document.pager.choice.value='last';document.pager.submit();return false;\">"
                           + "最后一页"
                           + "</a>";
            }
            String pageNoInput = "<input type='text' size='1' value='" + pageNo + "' "
                                 + "onChange=\"javascript:this.form.pageNo.value=this.value\">";

            bar = "每页pageSize条记录 | \n"
                  + "共pages页/total条记录 | \n"
                  + "prev \n next \n | 第pageNo页\n"
                  +
                    " <input type='submit' value='go' onClick=\"javascript:this.form.choice.value='current';\">\n";

            bar = bar.replaceAll("pageSize", pageSizeInput);
            bar = bar.replaceAll("pages", pages);
            bar = bar.replaceAll("total", total);
            bar = bar.replaceAll("prev", prevText);
            bar = bar.replaceAll("next", nextText);
            bar = bar.replaceAll("pageNo", pageNoInput);
        } /////end of if(text)
        return bar;
    }

    /**
     * 获取可点击页码
     * @参数：@param i
     * @参数：@return
     * @返回值：String
     */
    private String getPageNoTextAble(int i) {
		return "<li class=\"item\">"+
		"<a class=\"J_Ajax num\" href=\"javascript:void(0)\" onclick=\"document.pager.choice.value='current';document.pager.pageNo.value="+i+";document.pager.submit();return false;\" >"+i+"</a>"+
		"</li>";
	}

	/**
     * 获取不可点几页码
     * @参数：@param i
     * @参数：@return
     * @返回值：String
     */
	private String getPageNoTextDisable(int i) {
		
		return "<li class=\"item active\">"+
		"<span class=\"num\">"+i+"</span>"+
		"</li>";
	}
}